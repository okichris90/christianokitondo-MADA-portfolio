[
  {
    "objectID": "tidytuesday_exercise.html",
    "href": "tidytuesday_exercise.html",
    "title": "Tidy Tuesday Exercise",
    "section": "",
    "text": "Load the required libraries\n\nlibrary(\"dplyr\")\nlibrary(\"ggplot2\")\nlibrary(\"stringr\")\nlibrary(\"tidyverse\")\n\n\n\nImporting dataset from github tidytuesday repository\n\ndat <- read.csv(\"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-02-14/age_gaps.csv\")\n\n\n\nGlimpse, structure, and summary of the dataset\n\nglimpse(dat)\n\nRows: 1,155\nColumns: 13\n$ movie_name         <chr> \"Harold and Maude\", \"Venus\", \"The Quiet American\", …\n$ release_year       <int> 1971, 2006, 2002, 1998, 2010, 1992, 2009, 1999, 199…\n$ director           <chr> \"Hal Ashby\", \"Roger Michell\", \"Phillip Noyce\", \"Joe…\n$ age_difference     <int> 52, 50, 49, 45, 43, 42, 40, 39, 38, 38, 36, 36, 35,…\n$ couple_number      <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ actor_1_name       <chr> \"Ruth Gordon\", \"Peter O'Toole\", \"Michael Caine\", \"D…\n$ actor_2_name       <chr> \"Bud Cort\", \"Jodie Whittaker\", \"Do Thi Hai Yen\", \"T…\n$ character_1_gender <chr> \"woman\", \"man\", \"man\", \"man\", \"man\", \"man\", \"man\", …\n$ character_2_gender <chr> \"man\", \"woman\", \"woman\", \"woman\", \"man\", \"woman\", \"…\n$ actor_1_birthdate  <chr> \"1896-10-30\", \"1932-08-02\", \"1933-03-14\", \"1930-09-…\n$ actor_2_birthdate  <chr> \"1948-03-29\", \"1982-06-03\", \"1982-10-01\", \"1975-11-…\n$ actor_1_age        <int> 75, 74, 69, 68, 81, 59, 62, 69, 57, 77, 59, 56, 65,…\n$ actor_2_age        <int> 23, 24, 20, 23, 38, 17, 22, 30, 19, 39, 23, 20, 30,…\n\nstr(dat)\n\n'data.frame':   1155 obs. of  13 variables:\n $ movie_name        : chr  \"Harold and Maude\" \"Venus\" \"The Quiet American\" \"The Big Lebowski\" ...\n $ release_year      : int  1971 2006 2002 1998 2010 1992 2009 1999 1992 1999 ...\n $ director          : chr  \"Hal Ashby\" \"Roger Michell\" \"Phillip Noyce\" \"Joel Coen\" ...\n $ age_difference    : int  52 50 49 45 43 42 40 39 38 38 ...\n $ couple_number     : int  1 1 1 1 1 1 1 1 1 1 ...\n $ actor_1_name      : chr  \"Ruth Gordon\" \"Peter O'Toole\" \"Michael Caine\" \"David Huddleston\" ...\n $ actor_2_name      : chr  \"Bud Cort\" \"Jodie Whittaker\" \"Do Thi Hai Yen\" \"Tara Reid\" ...\n $ character_1_gender: chr  \"woman\" \"man\" \"man\" \"man\" ...\n $ character_2_gender: chr  \"man\" \"woman\" \"woman\" \"woman\" ...\n $ actor_1_birthdate : chr  \"1896-10-30\" \"1932-08-02\" \"1933-03-14\" \"1930-09-17\" ...\n $ actor_2_birthdate : chr  \"1948-03-29\" \"1982-06-03\" \"1982-10-01\" \"1975-11-08\" ...\n $ actor_1_age       : int  75 74 69 68 81 59 62 69 57 77 ...\n $ actor_2_age       : int  23 24 20 23 38 17 22 30 19 39 ...\n\nsummary(dat)\n\n  movie_name         release_year    director         age_difference \n Length:1155        Min.   :1935   Length:1155        Min.   : 0.00  \n Class :character   1st Qu.:1997   Class :character   1st Qu.: 4.00  \n Mode  :character   Median :2004   Mode  :character   Median : 8.00  \n                    Mean   :2001                      Mean   :10.42  \n                    3rd Qu.:2012                      3rd Qu.:15.00  \n                    Max.   :2022                      Max.   :52.00  \n couple_number   actor_1_name       actor_2_name       character_1_gender\n Min.   :1.000   Length:1155        Length:1155        Length:1155       \n 1st Qu.:1.000   Class :character   Class :character   Class :character  \n Median :1.000   Mode  :character   Mode  :character   Mode  :character  \n Mean   :1.398                                                           \n 3rd Qu.:2.000                                                           \n Max.   :7.000                                                           \n character_2_gender actor_1_birthdate  actor_2_birthdate   actor_1_age   \n Length:1155        Length:1155        Length:1155        Min.   :18.00  \n Class :character   Class :character   Class :character   1st Qu.:33.00  \n Mode  :character   Mode  :character   Mode  :character   Median :39.00  \n                                                          Mean   :40.64  \n                                                          3rd Qu.:47.00  \n                                                          Max.   :81.00  \n  actor_2_age   \n Min.   :17.00  \n 1st Qu.:25.00  \n Median :29.00  \n Mean   :30.21  \n 3rd Qu.:34.00  \n Max.   :68.00  \n\n\n\n\nVariables in the dataset\n\nnames(dat)\n\n [1] \"movie_name\"         \"release_year\"       \"director\"          \n [4] \"age_difference\"     \"couple_number\"      \"actor_1_name\"      \n [7] \"actor_2_name\"       \"character_1_gender\" \"character_2_gender\"\n[10] \"actor_1_birthdate\"  \"actor_2_birthdate\"  \"actor_1_age\"       \n[13] \"actor_2_age\"       \n\n\n\ntable(dat$character_1_gender)\n\n\n  man woman \n  941   214 \n\n\n\ntable(dat$character_2_gender)\n\n\n  man woman \n  215   940 \n\n\n\n\nLet’s check the distribution of men and women in these movies\n\nFor Character 1\n\np1 <- ggplot(dat, aes(x = character_1_gender, y = actor_1_age)) +\n  geom_point(size = 0.1) + \n  geom_line() + \n  geom_boxplot() + \n  labs(x = \"Character Gender\", y = \"Character Age\") \n       \np1 + ggtitle(\"Distribution of Age for each gender in Character One\") +\n  theme(plot.title = element_text(hjust = 0.5, color = \"blue\")) \n\n\n\n\nFrom this plot, the average age for men in character 1 is around 40. This average for women is around 35. Thus, men are older compared to women for character 1.\n\n\nFor Character 2\n\np2 <- ggplot(dat, aes(x = character_2_gender, y = actor_2_age)) +\n  geom_point(size = 0.1) + \n  geom_line() + \n  geom_boxplot() + \n  labs(x = \"Character Gender\", y = \"Character Age\") \n       \np2 + ggtitle(\"Distribution of Age for each gender in Character Two\") +\n  theme(plot.title = element_text(hjust = 0.5, color = \"blue\")) \n\n\n\n\nFrom this plot of character 2, the average age for men is around 30, and the average for women is around 28.\n\n\n\nVisualizing whether the age difference increase or decrease over time\n\np3 <- ggplot(dat, aes(x = release_year, y = age_difference)) +\n  geom_point(size = 0.5) + \n  geom_line() + \n  geom_smooth(method = \"loess\", color = \"yellow\", fill = \"yellow\") +\n  geom_smooth(method = lm, color = \"blue\", fill = \"blue\") + \n  scale_x_continuous(breaks=c(1935, 1945, 1955, 1965, 1975, 1985, 1995, 2005, 2015, 2025))  +\n  labs(x = \"Release Year\", y = \"Age Difference\") \n\np3 + ggtitle(\"Age Difference by Release Year\") +\n  theme(plot.title = element_text(hjust = 0.5, color = \"blue\")) \n\n`geom_smooth()` using formula = 'y ~ x'\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\nAccording to this graph, it does appear that the age difference gradually decrease over time. However, it does appear that around 2005, there was some increase. The curve slightly went from down to up.\n\nWe would like to see how the impact of couple number on age difference\n\np4 <- ggplot(dat, aes(x = couple_number, y = age_difference, group = couple_number)) + \n  geom_point(size = 0.2) + \n  geom_line() + \n  geom_boxplot(size = 0.2) +\n  labs(x = \"Release Year\", y = \"Age Difference\") \n  \np4 + ggtitle(\"Couple Number and Age Difference\") +\n  theme(plot.title = element_text(hjust = 0.5, color = \"blue\")) \n\n\n\n\nFrom this graph, it seems that there greater age difference there is, the lower number of couple."
  },
  {
    "objectID": "aboutme.html",
    "href": "aboutme.html",
    "title": "About me",
    "section": "",
    "text": "Background\n\n\n\n\n\n\n\n\n\nI am currently a PhD student in Epidemiology & Biostatistics with concentration in Data Analysis & Modelling. My journey includes a bachelor’s degree in Mathematics and a master in Statistics. Prior to joining UGA, I worked as a Biostatistician for Vanderbilt University Medical Center for a little over 3 years.\n\n\nResearch Interests\nI am interested in promoting colorectal cancer screening among early-onset patients (< 50 years of age) and active smokers.\n\n\nGoals for MADA\nI hope to improve my programming skills. Although I have a few years of professional experience working as a Biostatisician, I still make tones of mistakes on a daily basis. There is still a huge opportunity for learning, I would like to learn how to efficiently write R codes and explore different programming tool.\n\n\nFun Fact\nI released my first book over last summer. Title is “The Champion In You”. It is a memoir discussing my journey from growing up in Congo till where I am today with my career/Education. I’m discussing the challenges met and strategies for coping."
  },
  {
    "objectID": "visualization_exercise.html",
    "href": "visualization_exercise.html",
    "title": "Visualization Exercise: On-duty police officer deaths in the US",
    "section": "",
    "text": "The below plot from FiveThirtyEight is what I’m trying to replicate. The data for on-duty police officer deaths comes from the Officer Down Memorial Page, started in 1996 by a college student who is now a police officer and who continues to maintain the database. It extends much further back than the Federal Bureau of Investigation’s data — all the way back to 1791, when two officers were killed, both in New York state. (It hadn’t yet been updated with the Dallas shootings as of Friday afternoon.) National data on the number of police officers isn’t available that far back, but the rate of police officers per the overall population has declined significantly over the years.\n\n\n\n\n\n\n\n\n\n\nDallas shooting cleaning\n\nLoading required libraries\n\n\n\n\n\nData Loading\n\n# path to data\n# note the use of the here() package and not absolute paths\ndata_location<- here::here(\"Data\",\"all_data_police_deaths.csv\")\nrawdata <- readr::read_csv(data_location)\n\n\n\nCleaning the fields: extracting cause of death, year\n\nclean_data <- rawdata %>%\n  mutate(\n    cause_short = gsub('Cause of Death: ', '', cause),\n    date = mdy(gsub('EOW: ', '', eow)),\n    year = year(date),\n    canine = ifelse(substr(person, 0, 2) == 'K9' & substr(person, 0, 10) != 'K9 Officer', TRUE, FALSE)\n  )\n\n\n\nGlimpse of the data\n\nglimpse(clean_data)\n\nRows: 22,800\nColumns: 8\n$ person      <chr> \"Constable Darius Quimby\", \"Sheriff Cornelius Hogeboom\", \"…\n$ dept        <chr> \"Albany County Constable's Office, NY\", \"Columbia County S…\n$ eow         <chr> \"EOW: Monday, January 3, 1791\", \"EOW: Saturday, October 22…\n$ cause       <chr> \"Cause of Death: Gunfire\", \"Cause of Death: Gunfire\", \"Cau…\n$ cause_short <chr> \"Gunfire\", \"Gunfire\", \"Gunfire\", \"Gunfire\", \"Gunfire\", \"Gu…\n$ date        <date> 1791-01-03, 1791-10-22, 1792-05-17, 1794-01-11, 1797-11-1…\n$ year        <dbl> 1791, 1791, 1792, 1794, 1797, 1804, 1806, 1807, 1808, 1808…\n$ canine      <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FA…\n\n\n\n\nSplit department and state\n\ndept_state <- strsplit(clean_data$dept, \",(?=[^,]+$)\", perl=TRUE)\n\ndept_state_df <- data.frame(matrix(unlist(dept_state), nrow=length(dept_state), byrow=T),stringsAsFactors=FALSE) %>% \n  rename(dept_name=X1, state=X2)\n\nclean_data <- clean_data %>% \n  bind_cols(dept_state_df)\n\n\n\nGlimpse of this dataframe\n\nglimpse(dept_state_df)\n\nRows: 22,800\nColumns: 2\n$ dept_name <chr> \"Albany County Constable's Office\", \"Columbia County Sheriff…\n$ state     <chr> \" NY\", \" NY\", \" NY\", \" US\", \" SC\", \" NC\", \" NY\", \" KY\", \" ME…\n\n\n\n\nRemove canines\n\npersons_data <- clean_data %>% \n  filter(canine == FALSE) \n\n\n\nFilter for major categories where count of cause of death is at least 20\n\nlarge_categories <- persons_data %>%\n      group_by(year, cause_short) %>%\n      summarize(count = n()) %>%\n      data.frame() %>%\n      filter(count >= 20) %>%\n      select(cause_short) %>%\n      unique()\n\n\n\nGlimpse of data\n\nglimpse(large_categories)\n\nRows: 8\nColumns: 1\n$ cause_short <chr> \"Gunfire\", \"Motorcycle accident\", \"Automobile accident\", \"…\n\n\n\n\nCategories of cause of death to plot\n\ncat_to_plot <- c(large_categories$cause_short, \"Gunfire (Accidental)\")\n\n?arrange\n\n\nArranging count of cause of death in descending order\n\nplot_order <- persons_data %>%\n    mutate(cat = ifelse(cause_short %in% cat_to_plot, cause_short, 'other')) %>%\n    group_by(cat) %>%\n    summarize(count = n()) %>%\n    data.frame() %>%\n    arrange(desc(count)) %>%\n    extract2(1)\n\n\n\nMove cause of death ‘other’ to the end\n\nplot_order <- c(plot_order[! (plot_order == 'other')], 'other')\n\n\n\nGlimpse of data\n\nglimpse(plot_order)\n\n chr [1:10] \"Gunfire\" \"Automobile accident\" \"Motorcycle accident\" ...\n\n\n\n\nCreate data for visualization\n\ndata_for_plot <- persons_data %>%\n      mutate(category = ifelse(cause_short %in% cat_to_plot, cause_short, 'other')) %>%\n      group_by(year, category) %>%\n      summarize(count = n()) %>%\n      data.frame() %>%\n      spread(category, count)\n\n\n\nSet missing to zero\n\ndata_for_plot[is.na(data_for_plot)] <- 0\n\n\n\nGlimpse of data\n\nglimpse(data_for_plot)\n\nRows: 202\nColumns: 11\n$ year                   <dbl> 1791, 1792, 1794, 1797, 1804, 1806, 1807, 1808,…\n$ `Aircraft accident`    <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ `Automobile accident`  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ Gunfire                <dbl> 2, 1, 1, 1, 1, 0, 1, 2, 1, 1, 1, 1, 0, 0, 0, 1,…\n$ `Gunfire (Accidental)` <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ `Heart attack`         <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ `Motorcycle accident`  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ other                  <dbl> 0, 0, 0, 0, 0, 1, 0, 2, 0, 0, 0, 1, 1, 2, 1, 1,…\n$ `Struck by vehicle`    <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ `Terrorist attack`     <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ `Vehicular assault`    <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n\n\n\n\nSelecting variables yer, category of death, and count. Also arranging the category\n\ndata_for_plot <- data_for_plot %>%\n      gather(category, count, -year) %>%\n      mutate(category = factor(category, levels=plot_order)) %>%\n      arrange(category)\n\n\n\nPlot of Deaths by cause\n\np_area <- ggplot(data_for_plot, aes(x=year, y=count, group=category, order=category)) +\n      geom_area(aes(fill=category), position='stack')\n\np_area + ggtitle(\"On-duty police officer deaths in the US\", \"By cause since 1791\") +\n  theme(legend.position = c(0.2,0.6))\n\n\n\n\nReproducing this graph was an amazing experience. It was pretty fun to go through every possible detail of the original plot and try to perfectly reproduce it. Going through that process of “trying to be perfect” actually helps me learned other cool stuff that ggplot has to offer. One is how to manipulate the legend position in the graph."
  },
  {
    "objectID": "coding_exercise.html",
    "href": "coding_exercise.html",
    "title": "R Coding Exercise",
    "section": "",
    "text": "library(\"dslabs\")\nlibrary(\"dplyr\") \n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(\"ggplot2\")\n\n###look at help file for gapminder data\n\nhelp(gapminder)\n\n###get an overview of data structure\n\nstr(gapminder)\n\n'data.frame':   10545 obs. of  9 variables:\n $ country         : Factor w/ 185 levels \"Albania\",\"Algeria\",..: 1 2 3 4 5 6 7 8 9 10 ...\n $ year            : int  1960 1960 1960 1960 1960 1960 1960 1960 1960 1960 ...\n $ infant_mortality: num  115.4 148.2 208 NA 59.9 ...\n $ life_expectancy : num  62.9 47.5 36 63 65.4 ...\n $ fertility       : num  6.19 7.65 7.32 4.43 3.11 4.55 4.82 3.45 2.7 5.57 ...\n $ population      : num  1636054 11124892 5270844 54681 20619075 ...\n $ gdp             : num  NA 1.38e+10 NA NA 1.08e+11 ...\n $ continent       : Factor w/ 5 levels \"Africa\",\"Americas\",..: 4 1 1 2 2 3 2 5 4 3 ...\n $ region          : Factor w/ 22 levels \"Australia and New Zealand\",..: 19 11 10 2 15 21 2 1 22 21 ...\n\n\n###get a summary of data\n\nsummary(gapminder)\n\n                country           year      infant_mortality life_expectancy\n Albania            :   57   Min.   :1960   Min.   :  1.50   Min.   :13.20  \n Algeria            :   57   1st Qu.:1974   1st Qu.: 16.00   1st Qu.:57.50  \n Angola             :   57   Median :1988   Median : 41.50   Median :67.54  \n Antigua and Barbuda:   57   Mean   :1988   Mean   : 55.31   Mean   :64.81  \n Argentina          :   57   3rd Qu.:2002   3rd Qu.: 85.10   3rd Qu.:73.00  \n Armenia            :   57   Max.   :2016   Max.   :276.90   Max.   :83.90  \n (Other)            :10203                  NA's   :1453                    \n   fertility       population             gdp               continent   \n Min.   :0.840   Min.   :3.124e+04   Min.   :4.040e+07   Africa  :2907  \n 1st Qu.:2.200   1st Qu.:1.333e+06   1st Qu.:1.846e+09   Americas:2052  \n Median :3.750   Median :5.009e+06   Median :7.794e+09   Asia    :2679  \n Mean   :4.084   Mean   :2.701e+07   Mean   :1.480e+11   Europe  :2223  \n 3rd Qu.:6.000   3rd Qu.:1.523e+07   3rd Qu.:5.540e+10   Oceania : 684  \n Max.   :9.220   Max.   :1.376e+09   Max.   :1.174e+13                  \n NA's   :187     NA's   :185         NA's   :2972                       \n             region    \n Western Asia   :1026  \n Eastern Africa : 912  \n Western Africa : 912  \n Caribbean      : 741  \n South America  : 684  \n Southern Europe: 684  \n (Other)        :5586"
  },
  {
    "objectID": "coding_exercise.html#assessing-the-impact-of-region-in-the-relationship-between-life-expectancy-and-mortality-in-year-2000",
    "href": "coding_exercise.html#assessing-the-impact-of-region-in-the-relationship-between-life-expectancy-and-mortality-in-year-2000",
    "title": "R Coding Exercise",
    "section": "Assessing the Impact of region in the relationship between life expectancy and mortality in year 2000",
    "text": "Assessing the Impact of region in the relationship between life expectancy and mortality in year 2000\nFirst, we will recreate the visualization of the Africa data in 2000 but adding in color to differentiate the differences in region.\n\n#load packages\n\nlibrary(dslabs) \nlibrary(\"dplyr\") \nlibrary(\"ggplot2\") \n\nafricadata <- gapminder %>% filter(continent == \"Africa\")\n#reset africa dataset for year 2000 only\nafricadata_2000 = subset(africadata, year==2000)\n\n#More Plotting #Infant Mortality and Life Expectancy in 2000;\nggplot(africadata_2000, aes(x=infant_mortality, y=life_expectancy, color=region)) +geom_point()\n\n\n\n\nNext we will run a simple linear regression model to assess the mean life expectancy in each of the regions\n\n#Box Plots of Life Expectancy by Region for the years 2000;\n\nbox=ggplot(africadata_2000, aes(x=region, y=life_expectancy, color=region)) + geom_boxplot()\n\nbox + geom_jitter(shape=16, position=position_jitter(0.2))\n\n\n\n#Simple linear regression model for year 2000; \n\nfit3 = lm (life_expectancy~factor(region), data=africadata_2000)\n\nsummary(fit3)\n\n\nCall:\nlm(formula = life_expectancy ~ factor(region), data = africadata_2000)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-16.056  -4.138  -0.500   3.013  17.744 \n\nCoefficients:\n                              Estimate Std. Error t value Pr(>|t|)    \n(Intercept)                    53.6563     1.6203  33.115  < 2e-16 ***\nfactor(region)Middle Africa    -0.8562     2.8065  -0.305    0.762    \nfactor(region)Northern Africa  17.4604     3.1026   5.628 1.04e-06 ***\nfactor(region)Southern Africa  -2.1563     3.3206  -0.649    0.519    \nfactor(region)Western Africa    3.1812     2.2915   1.388    0.172    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.481 on 46 degrees of freedom\nMultiple R-squared:  0.4601,    Adjusted R-squared:  0.4131 \nF-statistic:   9.8 on 4 and 46 DF,  p-value: 8.074e-06\n\n\nThis shows us that there are significant variability in the mean life expectancy by region in the year 2000.\nNext, we will assess region and infant mortality in the same model.\n\n#MLR\nadjfit =lm(life_expectancy~infant_mortality+factor(region), data=africadata_2000)\n\nsummary(adjfit)\n\n\nCall:\nlm(formula = life_expectancy ~ infant_mortality + factor(region), \n    data = africadata_2000)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-19.1675  -2.4682   0.6053   2.2362   7.8495 \n\nCoefficients:\n                              Estimate Std. Error t value Pr(>|t|)    \n(Intercept)                   66.95785    2.36426  28.321  < 2e-16 ***\ninfant_mortality              -0.17479    0.02694  -6.488 5.87e-08 ***\nfactor(region)Middle Africa    2.96949    2.12310   1.399  0.16877    \nfactor(region)Northern Africa 10.89992    2.47117   4.411 6.35e-05 ***\nfactor(region)Southern Africa -4.13489    2.43244  -1.700  0.09605 .  \nfactor(region)Western Africa   5.92329    1.71809   3.448  0.00124 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 4.71 on 45 degrees of freedom\nMultiple R-squared:  0.721, Adjusted R-squared:  0.6901 \nF-statistic: 23.26 on 5 and 45 DF,  p-value: 1.828e-11\n\n\nFrom this model we can interpret that when adjusting for region in Africa, infant mortality is still linearly associated with life expectancy (p<0.001). The parameter estimate tells us that for each one-unit increase in infant mortality life expectancy declines by 0.18 years."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "My website and data analysis portfolio",
    "section": "",
    "text": "Hello\n\nAnd hello again\nWelcome to my website and data analysis portfolio.\n\nPlease use the Menu Bar above to look around.\nHave fun!"
  },
  {
    "objectID": "dataanalysis_exercise.html",
    "href": "dataanalysis_exercise.html",
    "title": "R Data Wrangling Exercise - Chris Okitondo",
    "section": "",
    "text": "This dataset shows health conditions and contributing causes mentioned in conjunction with deaths involving coronavirus disease 2019 (COVID-19) by age group and jurisdiction of occurrence from 2020-2023. It was downloaded from the CDC website.\n\nSetup\nLoad needed packages. make sure they are installed.\n\n\n\n\n\nData loading\n\n# path to data\n# note the use of the here() package and not absolute paths\ndata_location<- here::here(\"data\",\"Conditions_Contributing_to_COVID-19_Deaths_2020_2023.xlsx\")\nrawdata <- readxl::read_excel(data_location)\n\n\n\nLooking at the data\n\ndplyr::glimpse(rawdata)\n\nRows: 521,640\nColumns: 14\n$ `Data As Of`         <chr> \"2023-01-29\", \"2023-01-29\", \"2023-01-29\", \"2023-0…\n$ `Start Date`         <chr> \"2020-01-01\", \"2020-01-01\", \"2020-01-01\", \"2020-0…\n$ `End Date`           <chr> \"2023-01-28\", \"2023-01-28\", \"2023-01-28\", \"2023-0…\n$ Group                <chr> \"By Total\", \"By Total\", \"By Total\", \"By Total\", \"…\n$ Year                 <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…\n$ Month                <lgl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…\n$ State                <chr> \"United States\", \"United States\", \"United States\"…\n$ `Condition Group`    <chr> \"Respiratory diseases\", \"Respiratory diseases\", \"…\n$ Condition            <chr> \"Influenza and pneumonia\", \"Influenza and pneumon…\n$ ICD10_codes          <chr> \"J09-J18\", \"J09-J18\", \"J09-J18\", \"J09-J18\", \"J09-…\n$ `Age Group`          <chr> \"0-24\", \"25-34\", \"35-44\", \"45-54\", \"55-64\", \"65-7…\n$ `COVID-19 Deaths`    <dbl> 1492, 5700, 14878, 36982, 81436, 126144, 133948, …\n$ `Number of Mentions` <dbl> 1562, 5916, 15491, 38430, 84400, 130069, 137110, …\n$ Flag                 <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…\n\nsummary(rawdata)\n\n  Data As Of         Start Date          End Date            Group          \n Length:521640      Length:521640      Length:521640      Length:521640     \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n                                                                            \n   Year          Month            State           Condition Group   \n Mode:logical   Mode:logical   Length:521640      Length:521640     \n TRUE:509220    TRUE:459540    Class :character   Class :character  \n NA's:12420     NA's:62100     Mode  :character   Mode  :character  \n                                                                    \n                                                                    \n                                                                    \n                                                                    \n  Condition         ICD10_codes         Age Group         COVID-19 Deaths    \n Length:521640      Length:521640      Length:521640      Min.   :      0.0  \n Class :character   Class :character   Class :character   1st Qu.:      0.0  \n Mode  :character   Mode  :character   Mode  :character   Median :      0.0  \n                                                          Mean   :    136.7  \n                                                          3rd Qu.:     21.0  \n                                                          Max.   :1100296.0  \n                                                          NA's   :153354     \n Number of Mentions      Flag          \n Min.   :      0.0   Length:521640     \n 1st Qu.:      0.0   Class :character  \n Median :      0.0   Mode  :character  \n Mean   :    146.8                     \n 3rd Qu.:     23.0                     \n Max.   :1100296.0                     \n NA's   :148443                        \n\nhead(rawdata)\n\n# A tibble: 6 × 14\n  `Data As Of` Start D…¹ End D…² Group Year  Month State Condi…³ Condi…⁴ ICD10…⁵\n  <chr>        <chr>     <chr>   <chr> <lgl> <lgl> <chr> <chr>   <chr>   <chr>  \n1 2023-01-29   2020-01-… 2023-0… By T… NA    NA    Unit… Respir… Influe… J09-J18\n2 2023-01-29   2020-01-… 2023-0… By T… NA    NA    Unit… Respir… Influe… J09-J18\n3 2023-01-29   2020-01-… 2023-0… By T… NA    NA    Unit… Respir… Influe… J09-J18\n4 2023-01-29   2020-01-… 2023-0… By T… NA    NA    Unit… Respir… Influe… J09-J18\n5 2023-01-29   2020-01-… 2023-0… By T… NA    NA    Unit… Respir… Influe… J09-J18\n6 2023-01-29   2020-01-… 2023-0… By T… NA    NA    Unit… Respir… Influe… J09-J18\n# … with 4 more variables: `Age Group` <chr>, `COVID-19 Deaths` <dbl>,\n#   `Number of Mentions` <dbl>, Flag <chr>, and abbreviated variable names\n#   ¹​`Start Date`, ²​`End Date`, ³​`Condition Group`, ⁴​Condition, ⁵​ICD10_codes\n\nskimr::skim(rawdata)\n\n\nData summary\n\n\nName\nrawdata\n\n\nNumber of rows\n521640\n\n\nNumber of columns\n14\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n10\n\n\nlogical\n2\n\n\nnumeric\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nData As Of\n0\n1.00\n10\n10\n0\n1\n0\n\n\nStart Date\n0\n1.00\n10\n10\n0\n37\n0\n\n\nEnd Date\n0\n1.00\n10\n10\n0\n37\n0\n\n\nGroup\n0\n1.00\n7\n8\n0\n3\n0\n\n\nState\n0\n1.00\n4\n20\n0\n54\n0\n\n\nCondition Group\n0\n1.00\n6\n73\n0\n12\n0\n\n\nCondition\n0\n1.00\n6\n73\n0\n23\n0\n\n\nICD10_codes\n0\n1.00\n3\n180\n0\n23\n0\n\n\nAge Group\n0\n1.00\n3\n10\n0\n10\n0\n\n\nFlag\n368286\n0.29\n122\n122\n0\n1\n0\n\n\n\nVariable type: logical\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\ncount\n\n\n\n\nYear\n12420\n0.98\n1\nTRU: 509220\n\n\nMonth\n62100\n0.88\n1\nTRU: 459540\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nCOVID-19 Deaths\n153354\n0.71\n136.69\n3149.07\n0\n0\n0\n21\n1100296\n▇▁▁▁▁\n\n\nNumber of Mentions\n148443\n0.72\n146.79\n3376.53\n0\n0\n0\n23\n1100296\n▇▁▁▁▁\n\n\n\n\n\n\n\nCleaning\n\n\nTelling R to avoid using scientific notation\n\noptions(scipen=999)\n\n\n\nList variable names\n\nnames(rawdata)\n\n [1] \"Data As Of\"         \"Start Date\"         \"End Date\"          \n [4] \"Group\"              \"Year\"               \"Month\"             \n [7] \"State\"              \"Condition Group\"    \"Condition\"         \n[10] \"ICD10_codes\"        \"Age Group\"          \"COVID-19 Deaths\"   \n[13] \"Number of Mentions\" \"Flag\"              \n\n\n\n\nLet’s rename some variable names\n\nrawdata <- rawdata %>% rename(current_data = `Data As Of`, start_date = `Start Date`, end_date = `End Date`, condition_group = `Condition Group`, condition = Condition, age_group = `Age Group`, covid_deaths = `COVID-19 Deaths`)\n\n\n\nDistribution of age group\n\ntable(rawdata$age_group)\n\n\n      0-24      25-34      35-44      45-54      55-64      65-74      75-84 \n     52164      52164      52164      52164      52164      52164      52164 \n       85+   All Ages Not stated \n     52164      52164      52164 \n\n\n\n\nExcluding data where age group is not stated\n\nrawdata <- rawdata %>% filter(age_group != 'Not stated')\n\nObservation went from 521640 to 469476\n\n\nLet’s visualize at COVID deaths by age group\n\nggplot(data = rawdata, aes(x = age_group, y = covid_deaths)) + geom_bar(stat='identity', fill = \"steelblue\")\n\nWarning: Removed 153109 rows containing missing values (`position_stack()`).\n\n\n\n\n\n\n\nSaving the cleaned data\n\nsave_data_location <- here::here(\"data\", \"processeddata.rds\")\nsaveRDS(rawdata, file = save_data_location)\n\n##This Section Added by Annabella Hines\n\ncleandata <- readRDS(file=save_data_location)\n\n##Plots\nFirst I wanted to look at the number of Covid deaths by each condition group.\n\ncleandata2 <- cleandata %>% filter(Group==\"By Total\")\nggplot(cleandata2, aes(x=condition_group, y=covid_deaths))+geom_col()+xlab(\"Condition Group\")+ylab(\"Covid Deaths\")+ theme(axis.text.x = element_text(angle=13, size=5))\n\nWarning: Removed 1659 rows containing missing values (`position_stack()`).\n\n\n\n\n\nIt appears that respiratory diseases had the highest number of associated Covid deaths. I now want to look at the respiratory disease by specific condition.\n\nrespiratory <- cleandata2 %>% filter(condition_group==\"Respiratory diseases\")\nggplot(respiratory, aes(x=condition, y=covid_deaths))+geom_col()+xlab(\"Respiratory Condition\")+ylab(\"Covid Deaths\")+theme(axis.text.x = element_text(angle=13))\n\nWarning: Removed 436 rows containing missing values (`position_stack()`).\n\n\n\n\n\nThe respiratory condition with the highest number of Covid deaths appears to be the influenza and pneumonia. The last thing I want to do is look as the distribution of respiratory diseases by age group.\n\nggplot(respiratory, aes(x=age_group, y=covid_deaths, fill=condition))+geom_col()+theme(legend.key.size = unit(0.25, 'cm'), axis.text.x = element_text(angle=90))+ylab(\"Covid Deaths\")+ xlab(\"Age Group\")\n\nWarning: Removed 436 rows containing missing values (`position_stack()`)."
  }
]